{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _slicedToArray from \"@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport { Link } from '../../routes';\nimport Components from '../../components/index';\nimport Head from '../../components/head';\nimport Layout from '../../components/layout';\nimport StoryblokService from '../../utils/storyblok-service';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default() {\n    _classCallCheck(this, _default);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(_default).apply(this, arguments));\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          settings = _this$props.settings,\n          blogPosts = _this$props.blogPosts;\n      return React.createElement(Layout, {\n        settings: settings.data.story\n      }, blogPosts.data.stories.map(function (blogPost, index) {\n        var published_at = blogPost.published_at,\n            _blogPost$content = blogPost.content,\n            name = _blogPost$content.name,\n            intro = _blogPost$content.intro;\n        return React.createElement(\"div\", {\n          key: index,\n          className: \"jsx-3796864019\" + \" \" + \"blog__overview\"\n        }, React.createElement(\"h2\", {\n          className: \"jsx-3796864019\"\n        }, React.createElement(Link, {\n          route: '/' + blogPost.full_slug\n        }, React.createElement(\"a\", {\n          className: \"jsx-3796864019\" + \" \" + \"blog__detail-link\"\n        }, name))), React.createElement(\"small\", {\n          className: \"jsx-3796864019\"\n        }, published_at), React.createElement(\"p\", {\n          className: \"jsx-3796864019\"\n        }, intro));\n      }), React.createElement(_JSXStyle, {\n        id: \"3796864019\"\n      }, \".blog__overview.jsx-3796864019{padding:0 20px;max-width:600px;margin:40px auto 60px;}.blog__overview.jsx-3796864019 p.jsx-3796864019{line-height:1.6;}.blog__detail-link.jsx-3796864019{color:#000;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saW4vaDEtd2Vic2l0cy1jbXMvcGFnZXMvYmxvZy9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpRG9CLEFBRzRCLEFBTUMsQUFJTCxXQUNiLElBVmtCLENBTWxCLGVBTHdCLHNCQUN4QiIsImZpbGUiOiIvVXNlcnMvbGluL2gxLXdlYnNpdHMtY21zL3BhZ2VzL2Jsb2cvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAnLi4vLi4vcm91dGVzJ1xuaW1wb3J0IENvbXBvbmVudHMgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9pbmRleCdcbmltcG9ydCBIZWFkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvaGVhZCdcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sYXlvdXQnXG5pbXBvcnQgU3RvcnlibG9rU2VydmljZSBmcm9tICcuLi8uLi91dGlscy9zdG9yeWJsb2stc2VydmljZSdcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBzdGF0aWMgYXN5bmMgZ2V0SW5pdGlhbFByb3BzKHsgcXVlcnkgfSkge1xuICAgIFN0b3J5Ymxva1NlcnZpY2Uuc2V0UXVlcnkocXVlcnkpXG5cbiAgICBsZXQgW2Jsb2dQb3N0cywgc2V0dGluZ3NdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgU3RvcnlibG9rU2VydmljZS5nZXQoJ2Nkbi9zdG9yaWVzJywge1xuICAgICAgICBzdGFydHNfd2l0aDogYCR7cXVlcnkubGFuZ3VhZ2V9L2Jsb2dgXG4gICAgICB9KSxcbiAgICAgIFN0b3J5Ymxva1NlcnZpY2UuZ2V0KGBjZG4vc3Rvcmllcy8ke3F1ZXJ5Lmxhbmd1YWdlfS9zZXR0aW5nc2ApXG4gICAgXSlcblxuICAgIHJldHVybiB7XG4gICAgICBibG9nUG9zdHMsXG4gICAgICBzZXR0aW5nc1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IHNldHRpbmdzLCBibG9nUG9zdHMgfSA9IHRoaXMucHJvcHNcbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dCBzZXR0aW5ncz17c2V0dGluZ3MuZGF0YS5zdG9yeX0+XG4gICAgICAgIHtibG9nUG9zdHMuZGF0YS5zdG9yaWVzLm1hcCgoYmxvZ1Bvc3QsIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBwdWJsaXNoZWRfYXQsIGNvbnRlbnQ6IHsgbmFtZSwgaW50cm8gfX0gPSBibG9nUG9zdFxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgPGRpdiBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJibG9nX19vdmVydmlld1wiPlxuICAgICAgICAgICAgICAgIDxoMj5cbiAgICAgICAgICAgICAgICAgIDxMaW5rIHJvdXRlPXsnLycgKyBibG9nUG9zdC5mdWxsX3NsdWd9PlxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJibG9nX19kZXRhaWwtbGlua1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHtuYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgICAgICA8c21hbGw+XG4gICAgICAgICAgICAgICAgICB7cHVibGlzaGVkX2F0fVxuICAgICAgICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICB7aW50cm99XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAuYmxvZ19fb3ZlcnZpZXcge1xuICAgICAgICAgICAgcGFkZGluZzogMCAyMHB4O1xuICAgICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgICAgIG1hcmdpbjogNDBweCBhdXRvIDYwcHg7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLmJsb2dfX292ZXJ2aWV3IHAge1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAuYmxvZ19fZGV0YWlsLWxpbmsge1xuICAgICAgICAgICAgY29sb3I6ICMwMDA7XG4gICAgICAgICAgfVxuICAgICAgICBgfTwvc3R5bGU+XG4gICAgICA8L0xheW91dD5cbiAgICApXG4gIH1cbn0iXX0= */\\n/*@ sourceURL=/Users/lin/h1-websits-cms/pages/blog/index.js */\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var query, _ref2, _ref3, blogPosts, settings;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = _ref.query;\n                StoryblokService.setQuery(query);\n                _context.next = 4;\n                return _Promise.all([StoryblokService.get('cdn/stories', {\n                  starts_with: \"\".concat(query.language, \"/blog\")\n                }), StoryblokService.get(\"cdn/stories/\".concat(query.language, \"/settings\"))]);\n\n              case 4:\n                _ref2 = _context.sent;\n                _ref3 = _slicedToArray(_ref2, 2);\n                blogPosts = _ref3[0];\n                settings = _ref3[1];\n                return _context.abrupt(\"return\", {\n                  blogPosts: blogPosts,\n                  settings: settings\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/Users/lin/h1-websits-cms/pages/blog/index.js"],"names":["React","Link","Components","Head","Layout","StoryblokService","props","settings","blogPosts","data","story","stories","map","blogPost","index","published_at","content","name","intro","full_slug","query","setQuery","all","get","starts_with","language","Component"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;;;;;;;;;;;;;;;6BAmBW;AAAA,wBACyB,KAAKC,KAD9B;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,SADX,eACWA,SADX;AAEP,aACE,oBAAC,MAAD;AAAQ,QAAA,QAAQ,EAAED,QAAQ,CAACE,IAAT,CAAcC;AAAhC,SACGF,SAAS,CAACC,IAAV,CAAeE,OAAf,CAAuBC,GAAvB,CAA2B,UAACC,QAAD,EAAWC,KAAX,EAAqB;AAAA,YACvCC,YADuC,GACGF,QADH,CACvCE,YADuC;AAAA,gCACGF,QADH,CACzBG,OADyB;AAAA,YACdC,IADc,qBACdA,IADc;AAAA,YACRC,KADQ,qBACRA,KADQ;AAE/C,eACG;AAAK,UAAA,GAAG,EAAEJ,KAAV;AAAA,8CAA2B;AAA3B,WACG;AAAA;AAAA,WACE,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE,MAAMD,QAAQ,CAACM;AAA5B,WACE;AAAA,8CAAa;AAAb,WACGF,IADH,CADF,CADF,CADH,EAQG;AAAA;AAAA,WACGF,YADH,CARH,EAWG;AAAA;AAAA,WACGG,KADH,CAXH,CADH;AAgBI,OAlBL,CADH;AAAA;AAAA,8iGADF;AAwCD;;;;;;;;;;;;;AA1D8BE,gBAAAA,K,QAAAA,K;AAC7Bf,gBAAAA,gBAAgB,CAACgB,QAAjB,CAA0BD,KAA1B;;uBAEkC,SAAQE,GAAR,CAAY,CAC5CjB,gBAAgB,CAACkB,GAAjB,CAAqB,aAArB,EAAoC;AAClCC,kBAAAA,WAAW,YAAKJ,KAAK,CAACK,QAAX;AADuB,iBAApC,CAD4C,EAI5CpB,gBAAgB,CAACkB,GAAjB,uBAAoCH,KAAK,CAACK,QAA1C,eAJ4C,CAAZ,C;;;;;AAA7BjB,gBAAAA,S;AAAWD,gBAAAA,Q;iDAOT;AACLC,kBAAAA,SAAS,EAATA,SADK;AAELD,kBAAAA,QAAQ,EAARA;AAFK,iB;;;;;;;;;;;;;;;;;;;EAXkBP,KAAK,CAAC0B,S","sourcesContent":["import React from 'react'\nimport { Link } from '../../routes'\nimport Components from '../../components/index'\nimport Head from '../../components/head'\nimport Layout from '../../components/layout'\nimport StoryblokService from '../../utils/storyblok-service'\n\nexport default class extends React.Component {\n  static async getInitialProps({ query }) {\n    StoryblokService.setQuery(query)\n\n    let [blogPosts, settings] = await Promise.all([\n      StoryblokService.get('cdn/stories', {\n        starts_with: `${query.language}/blog`\n      }),\n      StoryblokService.get(`cdn/stories/${query.language}/settings`)\n    ])\n\n    return {\n      blogPosts,\n      settings\n    }\n  }\n\n  render() {\n    const { settings, blogPosts } = this.props\n    return (\n      <Layout settings={settings.data.story}>\n        {blogPosts.data.stories.map((blogPost, index) => {\n          const { published_at, content: { name, intro }} = blogPost\n          return (\n             <div key={index} className=\"blog__overview\">\n                <h2>\n                  <Link route={'/' + blogPost.full_slug}>\n                    <a className=\"blog__detail-link\">\n                      {name}\n                    </a>\n                  </Link>\n                </h2>\n                <small>\n                  {published_at}\n                </small>\n                <p>\n                  {intro}\n                </p>\n              </div>\n            )}\n          )\n        }\n        <style jsx>{`\n          .blog__overview {\n            padding: 0 20px;\n            max-width: 600px;\n            margin: 40px auto 60px;\n          }\n\n          .blog__overview p {\n            line-height: 1.6;\n          }\n\n          .blog__detail-link {\n            color: #000;\n          }\n        `}</style>\n      </Layout>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}